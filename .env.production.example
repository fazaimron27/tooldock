# =============================================================================
# Tool Dock - Production Environment Template
# =============================================================================
# Copy this file to .env and configure for your production environment
# For Docker: these values are passed via docker-compose.yml environment section
# For Kubernetes: these values go in ConfigMap and Secrets
#
# IMPORTANT: Generate a new APP_KEY before deploying!
#   php artisan key:generate --show
# =============================================================================

# ============================================
# Application Core
# ============================================
APP_NAME="Tool Dock"
APP_ENV=production
APP_KEY=
APP_DEBUG=false
APP_URL=https://tooldock.example.com
APP_TIMEZONE=Asia/Jakarta
APP_LOCALE=en
APP_FALLBACK_LOCALE=en
APP_FAKER_LOCALE=id_ID
APP_MAINTENANCE_DRIVER=file

BCRYPT_ROUNDS=12

REPOSITORY_URL=https://github.com/fazaimron27/tooldock

# ============================================
# Database Configuration (PostgreSQL)
# ============================================
DB_CONNECTION=pgsql
DB_HOST=postgres
DB_PORT=5432
DB_DATABASE=tooldock
DB_USERNAME=tooldock
DB_PASSWORD=SECURE_PASSWORD_HERE
DB_COLLATION=utf8mb4_unicode_ci
DB_FOREIGN_KEYS=true

# ============================================
# Cache Configuration
# ============================================
CACHE_STORE=redis
CACHE_PREFIX=cache-

# ============================================
# Queue Configuration
# ============================================
# Use redis in production for better performance
QUEUE_CONNECTION=redis
DB_QUEUE_TABLE=jobs
DB_QUEUE=default
DB_QUEUE_RETRY_AFTER=90
QUEUE_FAILED_DRIVER=database-uuids

# ============================================
# Session Configuration
# ============================================
# Use redis in production for better performance
SESSION_DRIVER=redis
SESSION_TABLE=sessions
SESSION_ENCRYPT=true
SESSION_SECURE_COOKIE=true
SESSION_DOMAIN=.example.com
SESSION_PATH=/
SESSION_HTTP_ONLY=true
SESSION_PARTITIONED_COOKIE=false
SESSION_SAME_SITE=lax

# Note: SESSION_LIFETIME will be managed via Settings UI (default: 120)
# Note: SESSION_EXPIRE_ON_CLOSE will be managed via Settings UI (default: false)

# ============================================
# Broadcast Configuration
# ============================================
BROADCAST_CONNECTION=log

# ============================================
# Filesystem Configuration
# ============================================
FILESYSTEM_DISK=local

# ============================================
# Redis Configuration
# ============================================
REDIS_CLIENT=phpredis
REDIS_CLUSTER=redis
REDIS_PREFIX=tooldock-
REDIS_PERSISTENT=false
REDIS_HOST=redis
REDIS_USERNAME=
REDIS_PASSWORD=
REDIS_PORT=6379
REDIS_DB=0
REDIS_CACHE_DB=1
REDIS_TIMEOUT=5
REDIS_READ_TIMEOUT=5
REDIS_CONNECT_TIMEOUT=2
REDIS_MAX_RETRIES=3
REDIS_BACKOFF_ALGORITHM=decorrelated_jitter
REDIS_BACKOFF_BASE=100
REDIS_BACKOFF_CAP=1000
REDIS_QUEUE_CONNECTION=default
REDIS_QUEUE=default
REDIS_QUEUE_RETRY_AFTER=90

# ============================================
# Mail Configuration
# ============================================
MAIL_MAILER=smtp
MAIL_SCHEME=tls
MAIL_HOST=smtp.example.com
MAIL_PORT=587
MAIL_USERNAME=
MAIL_PASSWORD=
MAIL_ENCRYPTION=tls

# Note: MAIL_FROM_ADDRESS will be managed via Settings UI (default: hello@example.com)
# Note: MAIL_FROM_NAME will be managed via Settings UI (default: ${APP_NAME})

# ============================================
# AWS / S3 Configuration (Optional)
# ============================================
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_DEFAULT_REGION=us-east-1
AWS_BUCKET=
AWS_URL=
AWS_ENDPOINT=
AWS_USE_PATH_STYLE_ENDPOINT=false

# ============================================
# Third Party Services (Optional)
# ============================================
POSTMARK_API_KEY=
RESEND_API_KEY=
SLACK_BOT_USER_OAUTH_TOKEN=
SLACK_BOT_USER_DEFAULT_CHANNEL=

# ============================================
# Logging Configuration
# ============================================
LOG_CHANNEL=stack
LOG_STACK=single
LOG_DEPRECATIONS_CHANNEL=null
LOG_DEPRECATIONS_TRACE=false
LOG_LEVEL=warning
LOG_DAILY_DAYS=14
LOG_SLACK_WEBHOOK_URL=
LOG_SLACK_USERNAME="Tool Dock Log"
LOG_SLACK_EMOJI=:boom:

# ============================================
# Authentication Configuration
# ============================================
AUTH_GUARD=web
AUTH_PASSWORD_BROKER=users
AUTH_PASSWORD_RESET_TOKEN_TABLE=password_reset_tokens
AUTH_PASSWORD_TIMEOUT=10800

# ============================================
# Dashboard Configuration
# ============================================
DASHBOARD_CACHE_TTL=300
DASHBOARD_USE_CACHE_TAGS=true
DASHBOARD_USE_ENV_PREFIX=true

# Note: DASHBOARD_CACHE_TTL can be overridden via Settings UI
# Note: DASHBOARD_USE_CACHE_TAGS can be overridden via Settings UI

# ============================================
# Cache Metrics Configuration
# ============================================
CACHE_METRICS_ENABLED=true
CACHE_METRICS_SLOW_THRESHOLD=100
CACHE_METRICS_TTL=3600
CACHE_RETRY_ENABLED=true
CACHE_MAX_RETRIES=3
CACHE_RETRY_BASE_DELAY=100
CACHE_CIRCUIT_BREAKER_ENABLED=true
CACHE_CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
CACHE_CIRCUIT_BREAKER_TIMEOUT=60
CACHE_CIRCUIT_BREAKER_SUCCESS_THRESHOLD=2

# ============================================
# Module-Specific Configuration
# ============================================
MODULE_VENDOR=fazaimron27
MODULE_AUTHOR_NAME="Faza Iman Imron"
MODULE_AUTHOR_EMAIL=fazaimanimron@gmail.com
MODULES_SKIP_DEPENDENCY_VALIDATION=false

# ============================================
# Core Module Configuration
# ============================================
CORE_DEFAULT_GROUP=Guest
CORE_DEFAULT_ROLE=staff
CORE_USER_SEARCH_CACHE_TTL=300
# IMPORTANT: Change these credentials in production!
SUPER_ADMIN_EMAIL=admin@example.com
SUPER_ADMIN_PASSWORD=CHANGE_ME_SECURE_PASSWORD

# ============================================
# AuditLog Module Configuration
# ============================================
AUDITLOG_RETENTION_DAYS=90
AUDITLOG_SCHEDULED_CLEANUP_ENABLED=true
AUDITLOG_MODEL_TYPES_CACHE_TTL=3600
AUDITLOG_EXPORT_CHUNK_SIZE=500

# ============================================
# Groups Module Configuration
# ============================================
GROUPS_LARGE_GROUP_THRESHOLD=100
GROUPS_MEMBER_DATA_CHUNK_SIZE=1000

# ============================================
# Vite Configuration
# ============================================
VITE_APP_NAME="${APP_NAME}"
